<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Doctor</title>

</head>
<body>
    <h3>Doctors</h3>
<div id="myChart" style="max-width:700px; height:400px"></div>
</body>
<script src="https://www.gstatic.com/charts/loader.js"></script>
<script>

   function drawChart() {
    fetch('api/doctor', {
        method: 'GET',
        headers: {
            'Content-Type': 'application/json',
        },
    })
    .then(response => response.json())
    .then(data => {
        const dataToChart = data.map(item => [ item[1],item[0]]);
        const dataChart = google.visualization.arrayToDataTable([
            ['Time', 'Sentiment'],
            ...dataToChart
        ]);

        const options = {
            title: 'House Prices vs Size',
            hAxis: {title: 'Time'},
            vAxis: {title: 'Sentiment'},
            legend: 'none'
        };

        const chart = new google.visualization.LineChart(document.getElementById('myChart'));
        chart.draw(dataChart, options);
    })
    .catch(error => {
        console.error('Error fetching data:', error);
    });
}

function getCsrfToken(){
    const token = document.querySelector('meta[name="csrf-token"]');
    return token ? token.content : '';
}

google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart);
</script>
</html>